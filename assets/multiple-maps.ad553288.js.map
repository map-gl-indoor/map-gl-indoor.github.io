{"version":3,"file":"multiple-maps.ad553288.js","sources":["../../../examples/multiple-maps.ts"],"sourcesContent":["import { LngLatLike, Map as MapboxMap } from 'mapbox-gl';\n\nimport accessToken from './mapbox-access-token';\nimport { addIndoorTo, IndoorControl, IndoorMap, MapboxMapWithIndoor } from '../src/index';\n\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport './style.css';\nimport './multiple-maps.css';\n\nconst app = document.querySelector<HTMLDivElement>('#app')!\n\nconst mapContainer = document.createElement('div');\nmapContainer.id = 'map';\napp.appendChild(mapContainer);\n\nconst map = new MapboxMap({\n    container: mapContainer,\n    zoom: 18,\n    center: [2.3592843, 48.8767904],\n    style: 'mapbox://styles/mapbox/streets-v10',\n    accessToken,\n    hash: true\n}) as MapboxMapWithIndoor;\n\nconst menuContainer = document.createElement('div');\nmenuContainer.id = 'menu';\napp.appendChild(menuContainer);\n\n\nfunction createMenuButton(mapPath: string, center: LngLatLike) {\n    const btn = document.createElement('button');\n    btn.innerHTML = mapPath.replace(/^.*[/]/, '');\n    btn.addEventListener('click', () => { map.flyTo({ center, zoom: 18, duration: 2000 }); });\n    menuContainer.appendChild(btn);\n}\n\n/**\n * Indoor specific\n */\n\naddIndoorTo(map);\n\n// Create custom maps\n// Note: center is just used to switch between the three maps using map.flyTo() in the menu.\nconst geojsonMaps: ({ path: string, center: LngLatLike, defaultLevel?: number }[]) = [\n    { path: 'maps/gare-de-l-est.geojson', center: [2.3592843, 48.8767904] },\n    { path: 'maps/caserne.geojson', center: [5.723078, 45.183754] },\n    { path: 'maps/grand-place.geojson', center: [5.732179, 45.157955], defaultLevel: 1 }\n];\n\ngeojsonMaps.forEach(({ path, center }) => createMenuButton(path, center));\n\n// Where the indoor layers will be inserted.\n// Here, 'housenum-label' comes from streets-v10\nconst beforeLayerId = 'housenum-label';\n\n// To avoid unwanted overlap from streets-v10 layers, some layers are hidden when an indoor map is shown\nconst layersToHide = ['poi-scalerank4-l15', 'poi-scalerank4-l1', 'poi-scalerank3', 'road-label-small'];\n\ngeojsonMaps.forEach(async ({ path, defaultLevel }) => {\n\n    // Retrieve geojson from path\n    const geojson = await (await fetch(path)).json();\n\n    // Create indoor map from geojson and options\n    const indoorMap = IndoorMap.fromGeojson(geojson, { beforeLayerId, layersToHide, defaultLevel });\n\n    // Add map to the indoor handler\n    map.indoor.addMap(indoorMap);\n});\n\n// Add the specific control\nmap.addControl(new IndoorControl());\n\n"],"names":["app","mapContainer","map","MapboxMap","accessToken","menuContainer","createMenuButton","mapPath","center","btn","addIndoorTo","geojsonMaps","path","beforeLayerId","layersToHide","defaultLevel","geojson","indoorMap","IndoorMap","IndoorControl"],"mappings":"yGASA,MAAMA,EAAM,SAAS,cAA8B,MAAM,EAEnDC,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,GAAK,MAClBD,EAAI,YAAYC,CAAY,EAE5B,MAAMC,EAAM,IAAIC,EAAAA,QAAAA,IAAU,CACtB,UAAWF,EACX,KAAM,GACN,OAAQ,CAAC,UAAW,UAAU,EAC9B,MAAO,qCACP,YAAAG,EACA,KAAM,EACV,CAAC,EAEKC,EAAgB,SAAS,cAAc,KAAK,EAClDA,EAAc,GAAK,OACnBL,EAAI,YAAYK,CAAa,EAG7B,SAASC,EAAiBC,EAAiBC,EAAoB,CACrD,MAAAC,EAAM,SAAS,cAAc,QAAQ,EAC3CA,EAAI,UAAYF,EAAQ,QAAQ,SAAU,EAAE,EACxCE,EAAA,iBAAiB,QAAS,IAAM,CAAEP,EAAI,MAAM,CAAE,OAAAM,EAAQ,KAAM,GAAI,SAAU,IAAM,CAAA,CAAI,EACxFH,EAAc,YAAYI,CAAG,CACjC,CAMAC,EAAYR,CAAG,EAIf,MAAMS,EAA+E,CACjF,CAAE,KAAM,6BAA8B,OAAQ,CAAC,UAAW,UAAU,CAAE,EACtE,CAAE,KAAM,uBAAwB,OAAQ,CAAC,SAAU,SAAS,CAAE,EAC9D,CAAE,KAAM,2BAA4B,OAAQ,CAAC,SAAU,SAAS,EAAG,aAAc,CAAE,CACvF,EAEAA,EAAY,QAAQ,CAAC,CAAE,KAAAC,EAAM,OAAAJ,CAAa,IAAAF,EAAiBM,EAAMJ,CAAM,CAAC,EAIxE,MAAMK,EAAgB,iBAGhBC,EAAe,CAAC,qBAAsB,oBAAqB,iBAAkB,kBAAkB,EAErGH,EAAY,QAAQ,MAAO,CAAE,KAAAC,EAAM,aAAAG,KAAmB,CAGlD,MAAMC,EAAU,MAAO,MAAM,MAAMJ,CAAI,GAAG,OAGpCK,EAAYC,EAAU,YAAYF,EAAS,CAAE,cAAAH,EAAe,aAAAC,EAAc,aAAAC,EAAc,EAG1Fb,EAAA,OAAO,OAAOe,CAAS,CAC/B,CAAC,EAGDf,EAAI,WAAW,IAAIiB,CAAe"}